<head>
  <title>♥︎ likelist</title>
</head>

<body>
  {{> hello}}
  {{> loginButtons}}
  <p>The first time you authorize the app, a list for holding liked venues will be created on Foursquare and your complete venue history will be checked for likes (this may take a while).</p>
  <p>Subsequently, whenever you check in somewhere, likelist will check if you liked – or stopped liking – that venue 3 times: after an hour, again after 3 hours and the following day. <small>So if you like a venue more than 1 day after you were there, your list of likes will not be updated before the next time you check in there. This is due to technical limits from Foursquare.</small></p>
  {{#if currentUser}}
    {{> likelist}}
  {{/if}}
</body>

<template name="hello">
  <h1>♥︎ likelist</h1>
  {{greeting}}
</template>

<template name="likelist">
  <div>
    {{#if currentUser.likelist}}
      <a href="{{currentUser.likelist.canonicalUrl}}">Go to my likelist on Foursquare</a>
      <input type="button" id="populate" value="Populate initial likelist">
    {{else}}
      <input type="button" id="create" value="Create likelist">
    {{/if}}
  </div>
</template>
